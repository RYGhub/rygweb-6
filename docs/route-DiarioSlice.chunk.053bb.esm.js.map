{"version":3,"sources":["webpack:///./routes/DiarioSlice.js","webpack:///./components/Static/StaticDiarioEntry.js","webpack:///./components/Static/StaticDiarioEntry.less"],"names":["props","allEntries","error","useRoyalnetData","start","Number","highlight","end","content","undefined","icon","faSpinner","pulse","map","entry","data","highlighted","diario_id","pageId","image","media_url","class","style","src","alt","text","blockquoteClass","concatClass","diarioEntry","spoiler","spoilerEntry","highlightedEntry","context","author","quoted_account","username","quoted","creator","timestamp","Date","this","toLocaleString","id","href","className","ctSeparator","icSeparator","authorInfo","saveInfo","module","exports"],"mappings":"2FAAA,2GAQe,mBAAUA,GACxB,MACOC,EAAYC,GAASC,YAAgB,MAAO,uBAAwB,CAC1EC,MAAOC,OAAOL,EAAMM,WAFP,EAGbC,IAAKF,OAAOL,EAAMM,WAHL,EAG0B,IAGxC,IAAIE,EAAU,KA0Bd,OAvBCA,OADYC,IAAVP,EAED,EAAC,IAAD,CAAUA,MAAOA,SAIIO,IAAfR,EAEN,EAAC,IAAD,KACC,EAAC,IAAD,CAAiBS,KAAMC,IAAWC,OAAO,IAD1C,eAQA,EAAC,IAAUZ,EACTC,EAAWY,IAAIC,GACf,EAAC,IAAD,CAAmBC,KAAMD,EAAOE,YAAaF,EAAMG,YAAcZ,OAAOL,EAAMM,eAOjF,aACC,EAAC,IAAD,CAAcY,OAAQ,KACrBV,K,2DC5CJ,6DAIe,aAAUR,GAExB,IAAImB,EAAQ,KACgB,OAAzBnB,EAAMe,KAAKK,YACbD,EACC,EAAC,IAAD,CAAOE,MAAOC,IAAMH,MAAOI,IAAKvB,EAAMe,KAAKK,UAAWI,IAAK,gBAK7D,IAAIC,EAAO,KACY,OAApBzB,EAAMe,KAAKU,OACbA,EACC,SAAKJ,MAAOC,IAAMG,MAChBzB,EAAMe,KAAKU,OAMf,IAAIC,EAAkBC,YAAYL,IAAMM,YAAa5B,EAAMqB,OACxDrB,EAAMe,KAAKc,UACbH,EAAkBC,YAAYD,EAAiBJ,IAAMQ,eAEnD9B,EAAMgB,cACRU,EAAkBC,YAAYD,EAAiBJ,IAAMS,mBAItD,IAAIC,EAAU,KACXhC,EAAMe,KAAKiB,UACbA,EAAU,UAAMX,MAAOC,IAAMU,SAAnB,KAA+BhC,EAAMe,KAAKiB,UAIrD,IAAIC,EAAS,KACoB,OAA9BjC,EAAMe,KAAKmB,eACbD,EAAS,UAAMZ,MAAOC,IAAMW,QAAnB,KAA6B,EAAC,IAAD,CAAgBlB,KAAMf,EAAMe,KAAKmB,gBAAiBlC,EAAMe,KAAKmB,eAAeC,WAErF,OAAtBnC,EAAMe,KAAKqB,SAClBH,EAAS,UAAMZ,MAAOC,IAAMW,QAAnB,KAA8BjC,EAAMe,KAAKqB,SAInD,IAAIC,EAAU,KACY,OAAvBrC,EAAMe,KAAKsB,UACbA,EAAU,UAAMhB,MAAOC,IAAMe,SAAS,EAAC,IAAD,CAAgBtB,KAAMf,EAAMe,KAAKsB,SAAUrC,EAAMe,KAAKsB,QAAQF,YAIrG,IAAIG,EAAY,KACY,OAAzBtC,EAAMe,KAAKuB,YACbA,EACC,UAAMjB,MAAOC,IAAMgB,WACjB,IAAIC,KAAKC,KAAKxC,MAAMe,KAAKuB,WAAWG,mBAMxC,IAAIC,EACH,EAAC,IAAD,CAAUC,KAAO,MAAK3C,EAAMe,KAAKE,UAAa2B,UAAWtB,IAAMoB,IAA/D,MAAuE1C,EAAMe,KAAKE,WAK/E4B,EAAc,KACfR,GAAWC,IACbO,EAAc,OAIf,IAAIC,EAAc,KAKlB,OAJGT,GAAWC,KACbQ,EAAc,OAId,gBAAYzB,MAAOK,GAClB,SAAKL,MAAOC,IAAMd,SAChBW,EACAM,GAEF,SAAKJ,MAAOC,IAAMyB,YAChBd,EACAD,GAEF,SAAKX,MAAOC,IAAM0B,UAChBX,EACAQ,EACAP,EACAQ,EACAJ,O,yCC/FLO,EAAOC,QAAU,CAAC,YAAc,qBAAqB,QAAU,iBAAiB,WAAa,oBAAoB,SAAW,kBAAkB,GAAK,YAAY,OAAS,gBAAgB,KAAO,cAAc,aAAe,sBAAsB,iBAAmB","file":"route-DiarioSlice.chunk.053bb.esm.js","sourcesContent":["import { LeftRight, Panel, useRoyalnetData } from 'bluelib';\nimport ErrorBox from '../components/Static/ErrorBox';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faChevronLeft, faChevronRight, faPlus, faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport StaticDiarioEntry from '../components/Static/StaticDiarioEntry';\nimport { useState } from 'preact/hooks';\nimport WikiExisting from '../components/Dynamic/WikiExisting';\n\nexport default function (props) {\n\tconst range = 3;\n\tconst [allEntries, error] = useRoyalnetData(\"GET\", \"/api/diario/range/v3\", {\n\t\tstart: Number(props.highlight) - range,\n\t\tend: Number(props.highlight) + range + 1,\n\t});\n\n\tlet content = null;\n\n\tif(error !== undefined) {\n\t\tcontent = (\n\t\t\t<ErrorBox error={error}/>\n\t\t);\n\t}\n\n\telse if(allEntries === undefined) {\n\t\tcontent = (\n\t\t\t<Panel>\n\t\t\t\t<FontAwesomeIcon icon={faSpinner} pulse={true}/> Loading...\n\t\t\t</Panel>\n\t\t)\n\t}\n\n\telse {\n\t\tcontent = (\n\t\t\t<Panel {...props}>\n\t\t\t\t{allEntries.map(entry => {return (\n\t\t\t\t\t<StaticDiarioEntry data={entry} highlighted={entry.diario_id === Number(props.highlight)}/>\n\t\t\t\t)})}\n\t\t\t</Panel>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<WikiExisting pageId={29}/>\n\t\t\t{content}\n\t\t</div>\n\t)\n}\n","import style from './StaticDiarioEntry.less';\nimport { BaseLink, concatClass, Image } from 'bluelib';\nimport StaticUserLink from './StaticUserLink';\n\nexport default function (props) {\n\t// Image\n\tlet image = null;\n\tif(props.data.media_url !== null) {\n\t\timage = (\n\t\t\t<Image class={style.image} src={props.data.media_url} alt={\"[Immagine]\"}/>\n\t\t)\n\t}\n\n\t// Text\n\tlet text = null;\n\tif(props.data.text !== null) {\n\t\ttext = (\n\t\t\t<div class={style.text}>\n\t\t\t\t{props.data.text}\n\t\t\t</div>\n\t\t)\n\t}\n\n\t// Spoiler\n\tlet blockquoteClass = concatClass(style.diarioEntry, props.class);\n\tif(props.data.spoiler) {\n\t\tblockquoteClass = concatClass(blockquoteClass, style.spoilerEntry);\n\t}\n\tif(props.highlighted) {\n\t\tblockquoteClass = concatClass(blockquoteClass, style.highlightedEntry);\n\t}\n\n\t// Context\n\tlet context = null;\n\tif(props.data.context) {\n\t\tcontext = <span class={style.context}>, {props.data.context}</span>\n\t}\n\n\t// Author\n\tlet author = null;\n\tif(props.data.quoted_account !== null) {\n\t\tauthor = <span class={style.author}>— <StaticUserLink data={props.data.quoted_account}>{props.data.quoted_account.username}</StaticUserLink></span>\n\t}\n\telse if(props.data.quoted !== null) {\n\t\tauthor = <span class={style.author}>— {props.data.quoted}</span>\n\t}\n\n\t// Creator (saved by)\n\tlet creator = null;\n\tif(props.data.creator !== null) {\n\t\tcreator = <span class={style.creator}><StaticUserLink data={props.data.creator}>{props.data.creator.username}</StaticUserLink></span>\n\t}\n\n\t// Timestamp\n\tlet timestamp = null;\n\tif(props.data.timestamp !== null) {\n\t\ttimestamp = (\n\t\t\t<time class={style.timestamp}>\n\t\t\t\t{new Date(this.props.data.timestamp).toLocaleString()}\n\t\t\t</time>\n\t\t)\n\t}\n\n\t// ID\n\tlet id = (\n\t\t<BaseLink href={`/d/${props.data.diario_id}`} className={style.id}>/d/{props.data.diario_id}</BaseLink>\n\t);\n\n\n\t// Creator | Timestamp separator\n\tlet ctSeparator = null;\n\tif(creator && timestamp) {\n\t\tctSeparator = \" | \";\n\t}\n\n\t// ID | Creator | Timestamp separator\n\tlet icSeparator = null;\n\tif(creator || timestamp) {\n\t\ticSeparator = \" | \";\n\t}\n\n\treturn (\n\t\t<blockquote class={blockquoteClass}>\n\t\t\t<div class={style.content}>\n\t\t\t\t{image}\n\t\t\t\t{text}\n\t\t\t</div>\n\t\t\t<div class={style.authorInfo}>\n\t\t\t\t{author}\n\t\t\t\t{context}\n\t\t\t</div>\n\t\t\t<div class={style.saveInfo}>\n\t\t\t\t{creator}\n\t\t\t\t{ctSeparator}\n\t\t\t\t{timestamp}\n\t\t\t\t{icSeparator}\n\t\t\t\t{id}\n\t\t\t</div>\n\t\t</blockquote>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"diarioEntry\":\"diarioEntry__1I_xu\",\"content\":\"content__3NwRJ\",\"authorInfo\":\"authorInfo__1vrdh\",\"saveInfo\":\"saveInfo__zgPyz\",\"id\":\"id__1riQ8\",\"author\":\"author__3Z0Ol\",\"text\":\"text__1-MLY\",\"spoilerEntry\":\"spoilerEntry__TUZ9R\",\"highlightedEntry\":\"highlightedEntry__2Opi-\"};"],"sourceRoot":""}