{"version":3,"sources":["webpack:///./components/Elements/MainTitle.js","webpack:///./components/Elements/MainTitle.less","webpack:///./routes/Profile.js","webpack:///./components/Elements/Links/IconLink.js","webpack:///./components/Elements/Avatar.less","webpack:///./components/Elements/LogoutBox.js","webpack:///./components/Elements/Avatar.js","webpack:///./components/Elements/Links/UserLink.js","webpack:///./components/Elements/Links/AnyLink.js"],"names":["props","class","style","image","src","alt","text","children","module","exports","loginStatus","useContext","RoyalnetLoginStatus","useRoyalnetData","uid","userData","userError","logoutBox","user","logout","undefined","error","icon","faSpinner","pulse","data","username","icons","Object","freeze","faGithub","faWikipediaW","faRedditAlien","faTwitch","faTwitter","faYoutube","faTelegram","faSteam","faDiscord","url","URL","href","protocol","faLockOpen","host","faExternalLinkAlt","useState","logoutWorking","setLogoutWorking","logoutValidity","title","label","onClick","console","debug","route","disabled","validity","avatar_url","steam","length","avatar","concatClass","alias","Error","unloadedContents","apiMethod","apiBody","toLowerCase","Array","userIdRegex","userAliasRegex","window","location","e","userIdMatch","pathname","match","log","userAliasMatch"],"mappings":"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","file":"route-Profile.chunk.f3868.js","sourcesContent":["import {Component} from \"preact\"\nimport style from \"./MainTitle.less\"\nimport theme from \"../../styles/theme.less\";\n\nexport default function(props) {\n    return (\n        <h0>\n            <img class={style.image} src={props.src} alt={props.alt} />\n            <span class={style.text}>\n                &nbsp;{props.children}\n            </span>\n        </h0>\n    )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"image__26rOm\",\"text\":\"text__3o6lt\"};","import { useContext } from 'preact/hooks';\nimport { RoyalnetLoginStatus, useRoyalnetData } from 'bluelib';\nimport LogoutBox from '../components/Elements/LogoutBox';\nimport MainTitle from '../components/Elements/MainTitle';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport ErrorBox from '../components/Elements/ErrorBox';\nimport Avatar from '../components/Elements/Avatar';\nimport theme from \"../styles/theme.less\";\n\nexport default function (props) {\n\tconst loginStatus = useContext(RoyalnetLoginStatus);\n\tconst [userData, userError] = useRoyalnetData(\"GET\", \"/api/user/ryg/v2\", {\n\t\tuid: props.uid\n\t});\n\n\tlet logoutBox = null;\n\tif(loginStatus) {\n\t\t// noinspection EqualityComparisonWithCoercionJS\n\t\tif(loginStatus.user.uid == props.uid) {\n\t\t\tlogoutBox = <LogoutBox logout={props.logout}/>\n\t\t}\n\t}\n\n\tif(userError !== undefined) {\n\t\treturn (\n\t\t\t<ErrorBox error={userError}/>\n\t\t);\n\t}\n\n\tif(userData === undefined) {\n\t\treturn (\n\t\t\t<h0><Avatar src={\"https://combo.steffo.eu/open/ryg/GenericUser.png\"} alt={\"\"}/><FontAwesomeIcon icon={faSpinner} pulse={true}/></h0>\n\t\t)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h0>\n\t\t\t\t<Avatar data={userData}/> {userData.username}\n\t\t\t</h0>\n\t\t\t{logoutBox}\n\t\t</div>\n\t);\n}\n","import Link from './Link';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n\tfaDiscord,\n\tfaGithub,\n\tfaRedditAlien, faSteam, faTelegram,\n\tfaTwitch,\n\tfaTwitter,\n\tfaWikipediaW, faYoutube\n} from '@fortawesome/free-brands-svg-icons';\nimport { faExternalLinkAlt, faLockOpen } from '@fortawesome/free-solid-svg-icons';\n\nconst icons = Object.freeze({\n\t\"github.com\": faGithub,\n\n\t\"en.wikipedia.org\": faWikipediaW,\n\t\"it.wikipedia.org\": faWikipediaW,\n\n\t\"old.reddit.com\": faRedditAlien,\n\t\"new.reddit.com\": faRedditAlien,\n\t\"www.reddit.com\": faRedditAlien,\n\t\"reddit.com\": faRedditAlien,\n\n\t\"twitch.tv\": faTwitch,\n\n\t\"twitter.com\": faTwitter,\n\n\t\"www.youtube.com\": faYoutube,\n\t\"youtube.com\": faYoutube,\n\t\"youtu.be\": faYoutube,\n\n\t\"t.me\": faTelegram,\n\n\t\"steampowered.com\": faSteam,\n\t\"steamcommunity.com\": faSteam,\n\n\t\"discord.gg\": faDiscord,\n\t\"discordapp.com\": faDiscord,\n\t\"discord.com\": faDiscord,\n});\n\nexport default function (props) {\n\tconst url = new URL(props.href);\n\n\tlet icon = null;\n\n\tif (url.protocol === \"http:\") {\n\t\ticon = faLockOpen;\n\t}\n\n\telse if(url.protocol === \"https:\") {\n\t\ticon = icons[url.host];\n\t\tif(icon === undefined) {\n\t\t\ticon = faExternalLinkAlt;\n\t\t}\n\t}\n\n\treturn (\n\t\t<Link href={props.href}>\n\t\t\t<FontAwesomeIcon icon={icon}/> {props.children}\n\t\t</Link>\n\t);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"avatar__jX0g7\"};","import { FormButton, Panel } from 'bluelib';\nimport { route } from 'preact-router';\nimport { useState } from 'preact/hooks';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport AnyLink from './Links/AnyLink';\n\nexport default function (props) {\n\tconst [logoutWorking, setLogoutWorking] = useState(false);\n\n\tfunction logout() {\n\t\tconsole.debug(\"Logging out...\");\n\t\tsetLogoutWorking(true);\n\t\tprops.logout();\n\t\troute(\"/\");\n\t}\n\n\tlet logoutValidity = {};\n\tif(logoutWorking) {\n\t\tlogoutValidity = {\n\t\t\ticon: <FontAwesomeIcon icon={faSpinner} pulse={true}/>\n\t\t}\n\t}\n\n\treturn (\n\t\t<Panel title={\"Logout\"}>\n\t\t\t<blockquote>\n\t\t\t\tSenta, <AnyLink href={\"https://www.youtube.com/watch?v=KoC-M5yBKQ4\"}>dottoressa Frinzi</AnyLink>...\n\t\t\t</blockquote>\n\t\t\t<p>\n\t\t\t\t<FormButton label={\"Logout\"} onClick={logout} disabled={logoutWorking} validity={logoutValidity}>Esci da questo posto di ♥♥♥♥♥</FormButton>\n\t\t\t</p>\n\t\t</Panel>\n\t);\n}\n","import { concatClass } from 'bluelib';\nimport style from './Avatar.less';\n\nexport default function (props) {\n\tlet avatar_url;\n\tif(props.src) {\n\t\tavatar_url = props.src;\n\t}\n\telse if(props.data.avatar_url) {\n\t\tavatar_url = props.data.avatar_url;\n\t}\n\telse if(props.data.steam.length > 0 && props.data.steam[0].avatar) {\n\t\tavatar_url = props.data.steam[0].avatar;\n\t}\n\telse {\n\t\tavatar_url = \"https://combo.steffo.eu/open/ryg/GenericUser.png\";\n\t}\n\n\treturn (\n\t\t<img alt={\"\"} src={avatar_url} class={concatClass(style.avatar, props.class)}/>\n\t);\n}\n","import { useRoyalnetData } from 'bluelib';\nimport Link from './Link';\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome';\nimport { faSpinner } from '@fortawesome/free-solid-svg-icons';\nimport Avatar from '../Avatar';\nimport ErrorAbbr from '../ErrorAbbr';\n\n\nexport default function (props) {\n\tif(!(props.uid || props.alias)) {\n\t\treturn (\n\t\t\t<ErrorAbbr error={new Error(\"Missing uid or alias.\")}>{unloadedContents}</ErrorAbbr>\n\t\t);\n\t}\n\n\n\tlet unloadedContents = props.children;\n\tif(!unloadedContents) {\n\t\tif(props.uid) {\n\t\t\tunloadedContents = props.uid;\n\t\t}\n\t\telse if(props.alias) {\n\t\t\tunloadedContents = props.alias;\n\t\t}\n\t}\n\n\tlet apiMethod, apiBody;\n\tif(props.uid) {\n\t\tapiMethod = \"/api/user/get/ryg/v1\";\n\t\tapiBody = {\"id\": props.uid};\n\t}\n\telse if(props.alias) {\n\t\tapiMethod = \"/api/user/find/ryg/v1\";\n\t\tapiBody = {\"alias\": props.alias.toLowerCase()};\n\t}\n\n\tlet [data, error, refresh] = useRoyalnetData(\"GET\", apiMethod, apiBody);\n\n\tif(error !== undefined) {\n\t\treturn (\n\t\t\t<ErrorAbbr error={error}>{unloadedContents}</ErrorAbbr>\n\t\t);\n\t}\n\n\tif(data === undefined) {\n\t\tif(props.uid) {\n\t\t\treturn (\n\t\t\t\t<Link href={`/u/${props.uid}`}>\n\t\t\t\t\t<FontAwesomeIcon icon={faSpinner} pulse={true}/> {unloadedContents}\n\t\t\t\t</Link>\n\t\t\t);\n\t\t}\n\t\telse if(props.alias) {\n\t\t\treturn (\n\t\t\t\t<Link href={`#`}>\n\t\t\t\t\t<FontAwesomeIcon icon={faSpinner} pulse={true}/> {unloadedContents}\n\t\t\t\t</Link>\n\t\t\t);\n\t\t}\n\t}\n\n\tlet text = data.username;\n\tif(props.children instanceof Array && props.children.length > 0) {\n\t\ttext = props.children;\n\t}\n\n\treturn (\n\t\t<Link href={`/u/${data.uid}`}>\n\t\t\t<Avatar data={data}/> {text}\n\t\t</Link>\n\t);\n}\n","import IconLink from './IconLink';\nimport ErrorAbbr from '../ErrorAbbr';\nimport Link from './Link';\nimport UserLink from './UserLink';\n\nconst userIdRegex = /^\\/u\\/([0-9]+)$/;\nconst userAliasRegex = /^\\/u\\/([A-Za-z]+)$/;\n\nexport default function (props) {\n\tlet url;\n\ttry {\n\t\turl = new URL(props.href, window.location.href)\n\t} catch (e) {\n\t\treturn (\n\t\t\t<ErrorAbbr error={e}>{props.children}</ErrorAbbr>\n\t\t);\n\t}\n\n\tif(window.location.host !== url.host) {\n\t\treturn <IconLink href={url}>{props.children}</IconLink>\n\t}\n\n\tlet userIdMatch = url.pathname.match(userIdRegex);\n\tconsole.log(userIdMatch);\n\tif(userIdMatch) {\n\t\treturn <UserLink uid={userIdMatch[1]}>{props.children}</UserLink>\n\t}\n\n\tlet userAliasMatch = url.pathname.match(userAliasRegex);\n\tif(userAliasMatch) {\n\t\treturn <UserLink alias={userAliasMatch[1]}>{props.children}</UserLink>\n\t}\n\n\treturn (\n\t\t<Link href={url}>{props.children}</Link>\n\t);\n}\n"],"sourceRoot":""}