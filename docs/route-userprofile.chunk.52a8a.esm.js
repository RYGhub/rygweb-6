(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{M9FC:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return l}));var n=e("hosL"),a=e("SwdI"),o=e("aWx2"),i=e("iexX"),r=e("HdoS");class l extends n.Component{constructor(){super(),this.onPasswordInputChange=t=>{this.setState({new_password:t.target.value})},this.onButtonClick=()=>{this.setState({status:"running"}),fetch("https://rygapi.steffo.eu/api/token/passwd/v1",{method:"POST",body:JSON.stringify({token:this.props.loggedIn.token,new_password:this.state.new_password})}).then(t=>t.json()).then(t=>{this.setState({status:"done",revoked_tokens:t.data.revoked_tokens})})},this.state={new_password:null,status:"waiting",revoked_tokens:null}}render(){return t(r.a,{left:"Cambia password"},t(a.a,{label:"Nuova password",type:"password",value:this.state.new_password,onChange:this.onPasswordInputChange,disabled:"waiting"!==this.state.status}),t(o.a,{label:"Cambia password",onClick:this.onButtonClick,status:this.state.status}),"done"===this.state.status?t(i.a,null,"Password cambiata con successo! E' stato automaticamente effettuato il logoff da ",this.state.revoked_tokens," accessi."):"")}}}).call(this,e("hosL").h)},WACb:function(t){t.exports={title:"title__2PYT8",image:"image__2zge7",text:"text__2ez1X"}},XF1l:function(t){t.exports={changenumber:"changenumber__3QTDZ",positive:"positive__2qKdo",neutral:"neutral__1rGMM",negative:"negative__1tWJB"}},aWx2:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return l}));var n=e("hosL"),a=e("Qu3A"),o=e("GAEk"),i=e("WOcO"),r=e("eYWD");class l extends n.Component{render(){return"waiting"===this.props.status?t(a.a,{label:t("span",null,this.props.label),onClick:this.props.onClick}):"running"===this.props.status?t(a.a,{label:t("span",null,t(o.a,{icon:i.g,pulse:!0})," ",this.props.label),disabled:!0}):"done"===this.props.status?t(a.a,{label:t("span",null,t(o.a,{icon:i.a})," ",this.props.label),disabled:!0}):"error"===this.props.status?t(a.a,{label:t("span",null,t(o.a,{icon:i.e})," ",this.props.label),onClick:this.props.onClick}):t(r.a,null,"Invalid status for HButtonOnce: ",this.props.status.toString())}}}).call(this,e("hosL").h)},gL7v:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return o}));var n=e("hosL"),a=e("HdoS");class o extends n.Component{render(){return t(a.a,{left:"Informazioni tecniche"},t("ul",null,t("li",null,"ID: ",t("b",null,this.props.user.uid)),t("li",null,"Tipo utente: ",t("b",null,this.props.user.role))))}}}).call(this,e("hosL").h)},hA3Z:function(t){t.exports={invisitable:"invisitable__2BeJv"}},iexX:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return u}));var n=e("hosL"),a=e("uBMG"),o=e.n(a),i=e("9yVG"),r=e("GAEk"),l=e("WOcO");class u extends n.Component{render(){return t(i.a,{class:o.a.success},t(r.a,{icon:l.b})," ",this.props.children)}}}).call(this,e("hosL").h)},lJdf:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return i}));var n=e("hosL"),a=e("WACb"),o=e.n(a);class i extends n.Component{render(){return t("div",{class:o.a.title},t("img",{class:o.a.image,src:this.props.imgsrc,alt:this.props.imgalt}),t("span",{class:o.a.text},"Â ",this.props.text))}}}).call(this,e("hosL").h)},qFH1:function(t){t.exports={current:"current__24hce",transactiontable:"transactiontable__3P0fZ",amount:"amount__2Nl11",positive:"positive__3nc4y",negative:"negative__1SDlm"}},sXfE:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return i}));var n=e("hosL"),a=e("HdoS"),o=e("Qu3A");class i extends n.Component{render(){return t(a.a,{left:"Logout"},t(o.a,{label:"Logout",onClick:this.props.onLogoutClick}))}}}).call(this,e("hosL").h)},tK5F:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return i}));var n=e("hosL"),a=e("XF1l"),o=e.n(a);class i extends n.Component{render(){let s,e="";return this.props.children>0?(s=o.a.positive,e="+"):s=0===this.props.children?o.a.neutral:o.a.negative,t("span",{class:o.a.changenumber+" "+s+" "+this.props.class},e,this.props.children)}}}).call(this,e("hosL").h)},tXXO:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return c}));var n=e("hosL"),a=e("PLZj"),o=e("HdoS"),i=e("qFH1"),r=e.n(i),l=e("yVVz"),u=e("tK5F");class c extends n.Component{constructor(){super(),this.getData=()=>{fetch("https://rygapi.steffo.eu/api/user/fiorygi/get/v1?id="+this.props.user.uid).then(t=>t.json()).then(t=>{this.setState({data:t.data})})},this.state={data:null}}componentDidMount(){this.getData()}render(){let s=t(a.a,null);if(null!==this.state.data){let e=this.state.data.transactions.map((s,e)=>t("tr",{key:e},t("td",{class:r.a.amount},t(u.a,null,s.change)),t("td",null,s.reason)));s=t("div",null,t(l.a,{class:r.a.transactiontable},t("tbody",null,t("tr",{class:r.a.current},t("td",{class:r.a.amount},t(u.a,null,this.state.data.fiorygi)),t("td",null,"fiorygi totali")),e)))}return t(o.a,{left:"Fiorygi"},s)}}}).call(this,e("hosL").h)},uBMG:function(t){t.exports={success:"success__30g14"}},vb2E:function(t,s,e){"use strict";e.r(s),function(t){e.d(s,"default",(function(){return h}));var n=e("hosL"),a=e("PLZj"),o=e("lJdf"),i=e("M9FC"),r=e("gL7v"),l=e("HdoS"),u=e("sXfE"),c=e("tXXO");class h extends n.Component{constructor(){super(),this.getData=()=>{fetch("https://rygapi.steffo.eu/api/user/get/v1?id="+this.props.userId).then(t=>t.json()).then(t=>{this.setState({data:t.data})})},this.state={data:null}}componentDidMount(){this.props.userId&&this.getData()}componentDidUpdate(t,s,e){t.userId!==this.props.userId&&this.props.userId&&this.getData()}render(){let s=this.props.loggedIn&&this.props.userId===this.props.loggedIn.user.uid;return null===this.state.data?t(l.a,{left:"Caricamento..."},t(a.a,null)):t("div",null,t(o.a,{imgsrc:"https://combo.steffo.eu/open/ryg/GenericUser.png",imgalt:"ðŸ‘¤",text:this.state.data.username}),t(c.a,{user:this.state.data}),t(r.a,{user:this.state.data}),s?t(i.a,{loggedIn:this.props.loggedIn}):"",s?t(u.a,{onLogoutClick:this.props.onLogoutClick}):"")}}}.call(this,e("hosL").h)},yVVz:function(t,s,e){"use strict";(function(t){e.d(s,"a",(function(){return i}));var n=e("hosL"),a=e("hA3Z"),o=e.n(a);class i extends n.Component{render(){return t("table",{class:o.a.invisitable+" "+this.props.class},this.props.children)}}}).call(this,e("hosL").h)}}]);
//# sourceMappingURL=route-userprofile.chunk.52a8a.esm.js.map